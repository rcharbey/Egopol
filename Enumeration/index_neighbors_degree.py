import sys
sys.path.append('../Methodes_graphe')
import methods_graph
sys.path.append('../Enumerate')
import enumerate

DICT_COMBI_PATTERNS = {
    '[2, 2]' : 1,
    '[3, 3, 4]' : 2,
    '[6, 6, 6]' : 3,
    '[3, 3, 5, 5]' : 4,
    '[4, 4, 4, 6]' : 5,
    '[4, 7, 7, 8]' : 6,
    '[6, 6, 6, 6]' : 7,
    '[8, 8, 10, 10]' : 8,
    '[12, 12, 12, 12]' : 9,
    '[3, 3, 5, 5, 6]' : 10,
    '[5, 5, 5, 5, 8]' : 11,
    '[3, 4, 4, 6, 7]' : 12,
    '[3, 6, 7, 7, 9]' : 13,
    '[4, 4, 8, 9, 9]' : 14,
    '[5, 5, 8, 8, 10]' : 15,
    '[6, 6, 6, 6, 6]' : 16,
    '[4, 6, 7, 7, 8]' : 17,
    '[4, 8, 10, 11, 11]' : 18, 
    '[5, 9, 9, 11, 12]' : 19,
    '[8, 8, 8, 8, 12]' : 20,
    '[7, 7, 8, 10, 10]' : 21, 
    '[8, 8, 8, 9, 9]' : 22,
    '[5, 13, 13, 13, 14]' : 23,
    '[9, 9, 12, 12, 14]' : 24,
    '[10, 10, 10, 14, 14]' : 25,
    '[8, 11, 11, 12, 12]' : 26 ,
    '[13, 13, 13, 13, 16]' : 27 ,
    '[10, 14, 14, 16, 16]' : 28,
    '[15, 15, 18, 18, 18]' : 29,
    '[20, 20, 20, 20, 20]' : 30
}

DICT_ND_POS = [
    {2 : 1},
    {3 : 2, 4: 3},
    {6 : 4},
    {3 : 5, 5 : 6},
    {4 : 7, 6 : 8},
    {4 : 9, 7 : 10, 8 : 11},
    {6 : 12},
    {8 : 13, 10 : 14},
    {12 : 15},
    {3 : 16, 5 : 17, 6 : 18},
    {5 : 19, 8 : 20},
    {3 : 21, 4 : 22, 6 : 23, 7 : 24},
    {3 : 25, 6 : 26, 7 : 27, 9 : 28},
    {4 : 29, 8 : 30, 9 : 31},
    {5 : 32, 8 : 33, 10 : 34},
    {6 : 35},
    {4 : 36, 6 : 37, 7 : 38, 8 : 39},
    {4 : 40, 8 : 41, 10 : 42, 11 : 43},
    {5 : 44, 9 : 45, 11 : 46, 12 : 47},
    {8 : 48, 12 : 49},
    {7 : 50, 8 : 51, 10 : 52},
    {8 : 53, 9 : 54},
    {5 : 55, 13 : 56, 14 : 57},
    {9 : 58, 12 : 59, 14 : 60},
    {10 : 61, 14 : 62},
    {8 : 63, 11 : 64, 12 : 65},
    {13 : 66, 16 : 67},
    {10 : 68, 14 : 69, 16 : 70},
    {15 : 71, 18 : 72},
    {20 : 73}
]
    

def index_pattern(graph_sub, pt, ps):
    degree_combination = methods_graph.degree_combination(graph_sub)
    id_pattern = DICT_COMBI_PATTERNS[str(degree_combination)]
    pt[id_pattern - 1] += 1
    for v in graph_sub.vs:
        ps[v['id_principal']][DICT_ND_POS[id_pattern - 1][v['n_d']] - 1] += 1